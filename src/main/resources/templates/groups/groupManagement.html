<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Управление группами</title>
    <link th:replace="~{fragments/notification :: style_notification}">
    <link th:replace="~{layout :: style_layout}">
    <link rel="stylesheet" th:href="@{/css/groupManagement.css}">
</head>
<body>
    <div th:replace="~{fragments/notification :: notification}"></div>
    <div th:replace="~{layout :: sidebar}"></div>
    <div class="content">
        <h1>Группы</h1>
        <div class="button-container">
            <button th:onclick="|window.location.href='@{/group/new}'|">Создать группу</button>
        </div>
        <table>
            <thead>
                <tr>
                    <th>Название группы</th>
                    <th>Участники</th>
                    <th>Действия</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each=" groupList : ${groups}">
                    <td th:text="${groupList.key}">Название группы</td>
                    <td>
                        <div class="participants">
                            <div th:each="employeeGroup : ${groupList.value}">
                                <a th:href="@{/employee/edit/{id}(id=${employeeGroup.employeeIn.employeeId})}">
                                    <span th:text="${employeeGroup.employeeIn.firstName} + ' ' + ${employeeGroup.employeeIn.lastName}">Иванов Иван</span>
                                </a>
                            </div>
                        </div>
                    </td>
                    <td>
                        <button th:onclick="|window.location.href='@{/group/edit/{id}(id=${groupId})}'|">Редактировать</button>
                        <button th:onclick="|window.location.href='@{/group/delete/{id}(id=${groupId})}'|">Удалить</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>
